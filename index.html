<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Contributors - Collaborative Story</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="svg-container">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 900" preserveAspectRatio="xMidYMid meet">
            <defs>
                <clipPath id="scroll-clip">
                    <rect x="50" y="60" width="500" height="780"></rect>
                </clipPath>
                <path id="leftRunePath" d="M55 60 V 840" />
                <path id="rightRunePath" d="M533 60 V 840" />
            </defs>
            <rect width="100%" height="100%" fill="#ffffff" />
            <rect class="scroll-body" x="50" y="58.5" width="500" height="783" />
            <g id="runesContainer">
                <text class="runes" id="leftRunes">
                    <textPath href="#leftRunePath">

                    </textPath>
                </text>
                <text class="runes" id="rightRunes">
                    <textPath href="#rightRunePath">

                    </textPath>
                </text>
            </g>
            <g clip-path="url(#scroll-clip)">
                <foreignObject x="60" y="60" width="460" height="781.5">
                    <div xmlns="http://www.w3.org/1999/xhtml" id="storyContent"></div>
                </foreignObject>
            </g>
            <g class="cylinder-container">
                <rect class="handle" x="1.5" y="11.5" width="37" height="37" rx="8.5" ry="8.5" />
                <rect class="handle" x="561.5" y="11.5" width="37" height="37" rx="8.5" ry="8.5" />
                <rect class="cylinder" x="20" y="1.5" width="560" height="57" rx="28.5" ry="28.5" />
                <text class="title" x="300" y="38">CONTRIBUTORS</text>
            </g>
            <g class="cylinder-container" transform="translate(0, 840)">
                <rect class="handle" x="1.5" y="11.5" width="37" height="37" rx="8.5" ry="8.5" />
                <rect class="handle" x="561.5" y="11.5" width="37" height="37" rx="8.5" ry="8.5" />
                <rect class="cylinder" x="20" y="1.5" width="560" height="57" rx="28.5" ry="28.5" />
                <g class="nav-button" id="prevPage" style="cursor: pointer;">
                    <text x="236" y="38">&#8592;</text>
                </g>
                <text class="page-number" x="300" y="38" id="pageNumber">PAGE 0</text>
                <g class="nav-button" id="nextPage" style="cursor: pointer;">
                    <text x="364" y="38">&#8594;</text>
                </g>

            </g>
            <g id="contributeButton" class="button" style="cursor: pointer;">
                <rect x="220" y="770" width="160" height="50" rx="25" ry="25" fill="#D2691E"></rect>
                <text x="300" y="803" fill="white" text-anchor="middle" font-size="22">CONTRIBUTE</text>
            </g>
        </svg>
    </div>
    <div id="contributionPopup" class="popup">
        <div class="popup-content">
            <div class="textarea-container">
                <textarea id="contributionInput" placeholder="Enter your contribution (max 256 characters)"
                    maxlength="256"></textarea>
                <div id="charCounter" class="char-counter">0 / 256</div>
            </div>
            <div class="button-container">
                <button id="submitContribution">SUBMIT</button>
                <button id="closePopup">CANCEL</button>
            </div>
            <div id="alertArea" class="alert-area"></div>
        </div>
    </div>

    <script src="https://cdn.ethers.io/lib/ethers-5.0.umd.min.js"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
    <dialog id="customAlert">
        <p id="alertMessage"></p>
        <form method="dialog">
            <button>OK</button>
        </form>
    </dialog>
</body>

</html>